{"componentChunkName":"component---src-pages-main-js","path":"/main/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"使用 Gatsby 搭建个人网站","date":"2020-11-10","tags":["blog","gatsby","personal website"],"author":"Jay","mainImage":"../assets/gatsby_main.jpg"},"html":"<h1>前言</h1>\n<p>其实很久以前就一直想做一个自己的个人网站，挂一些平常喜欢的文章啊，帖子啊，或者自己的人生感悟、旅行日记之类的。</p>\n<p>这次公司要做官网项目，技术选型选用了 <strong>Gatsby</strong> (基于React的快速搭建静态网站、博客的开源框架)，然后也是因为自己一直以来写的都是Angular项目，对React接触比较少，\n所以这次想用Gatsby来写自己的个人网站也是想多攒点React的开发经验，哈哈哈~</p>\n<p>然后发现Gatsby写起来是真的很快很爽，它支持的Graphql查询语句，能够轻松地将Markdown文件转化成页面所需要的数据构建页面。</p>\n<p>在开始写个人网站项目之前，自己就已经在考虑后面部署的事项了，去网上查了一下，最先查出来的是云服务器+WordPress，不过又要买服务器，又要买域名，还得备案。后来发现每个Github账户都可以开一个自己的静态网站（域名为 username.github.io），非常简单，便转向了 <strong>GitHub Pages</strong>，</p>\n<h1>准备工作</h1>\n<ol>\n<li>安装 Gatsby CLI</li>\n</ol>\n<pre><code class=\"language-shell\">npm install -g gatsby-cli\n</code></pre>\n<ol start=\"2\">\n<li>创建项目</li>\n</ol>\n<pre><code class=\"language-shell\">gatsby new\n</code></pre>\n<p>目录结构如下：</p>\n<pre><code>.\n├── LICENSE\n├── README.md\n├── content\n├── gatsby-browser.js\n├── gatsby-config.js\n├── gatsby-node.js\n├── node_modules\n├── package-lock.json\n├── package.json\n├── src\n└── static\n</code></pre>\n<ol start=\"3\">\n<li>本地开发</li>\n</ol>\n<pre><code class=\"language-shell\">gatsby develop\n</code></pre>\n<ol start=\"4\">\n<li>用到的插件</li>\n</ol>\n<p><img src=\"/assets/Plug-in.jpg\" alt=\"image\"></p>\n<h1>配置及开发</h1>\n<h2>配置</h2>\n<p>首先最重要的就是 <code>gatsby-config.js</code> 文件了，我们需要在里面启用上述安装的插件.</p>\n<p>还有得去 腾讯云站点管理工具 配置一下记录站点的访问信息。\n<img src=\"/assets/domain-config.jpg\" alt=\"image\">\n配置结束会给你个跟踪 ID，在配置文件 <code>gatsby-plugin-google-analytics</code> 下修改就行。</p>\n<h2>开发</h2>\n<p>就正常开发就好，建议使用md文件写博客，非常快。</p>\n<h1>部署</h1>\n<ol>\n<li>安装 gh-pages</li>\n</ol>\n<pre><code class=\"language-shell\">npm install gh-pages --save-dev\n</code></pre>\n<ol start=\"2\">\n<li>配置部署脚本</li>\n</ol>\n<pre><code class=\"language-json\">{\n  \"scripts\": {\n    \"deploy\": \"gatsby build &#x26;&#x26; gh-pages -d public -b master\"\n  }\n}\n</code></pre>\n<ol start=\"3\">\n<li>推送源码到 dev 分支</li>\n</ol>\n<p>Github Pages 有个特殊的规则，就是 &#x3C;username>.github.io 会默认使用 <code>master</code> 分支中的生产代码。这也就是为什么 <code>gh-pages -d public -b master</code> 中是指定 <code>master</code>，而不是 <code>gh-pages</code>。</p>\n<p>因此，源码就需要放到非 <code>master</code> 分支上。我把博客的源码推到 <code>dev</code> 分支，并将其设置为默认。可以选择用Github pages默认的域名 <strong>&#x3C;username>.github.io</strong> ，也可以自己配置自己的个人域名，如下图所示，\n将 <strong>custom domain</strong>指向到自己已经认证并解析过的域名就好了</p>\n<p><img src=\"/assets/github-page-config.jpg\" alt=\"image\"></p>\n<ol start=\"4\">\n<li>推送构建后的生产代码</li>\n</ol>\n<pre><code class=\"language-shell\">npm run deploy\n</code></pre>\n<p>推送后应该稍微等一下，就可以访问个人网站了。</p>\n<h1>总结</h1>\n<p>Gastby 优势</p>\n<ul>\n<li>相当的灵活，给个人网站巨大的修改空间</li>\n<li>支持 graphql，数据调用方便</li>\n<li>生态强大，1500+ 数量的插件基本满足大部分需求</li>\n</ul>","excerpt":"前言 其实很久以前就一直想做一个自己的个人网站，挂一些平常喜欢的文章啊，帖子啊，或者自己的人生感悟、旅行日记之类的。 这次公司要做官网项目，技术选型选用了 Gatsby (基于React的快速搭建静态网站、博客的开源框架)，然后也是因为自己一直以来写的都是Angular…","id":"928b3cc1-dc2e-5b90-a3d5-bc2a950d3b79"}},{"node":{"frontmatter":{"title":"大理-丽江旅游日记（攻略）","date":"2020-11-10","tags":["blog","gatsby","personal website"],"author":"Jay","mainImage":"../assets/IMG_0369.JPG"},"html":"<h2>旅行日记</h2>\n<p>\"是不是对生活不太满意很久没有笑过又不知为何既然不快乐又不喜欢这里不如一路向西去大理...</p>\n<p>爱上一座城，也许是因为一个人</p>\n<p>爱上一个人，也许是因为他满身的浪漫情怀</p>\n<p>因为那个人而爱上的城</p>\n<p>也许是因为这座城也满是浪漫</p>\n<p>2014年宁浩的一部《心花怒放》让更多人认识了大理，知道了有一家客栈叫“梧桐”，但电影中的大理或许并不真实，她没那么浮躁，也没那么喧嚣，真正的大理，只与风月有染。</p>\n<p><img src=\"/assets/IMG_0438.JPG\" alt=\"image\"></p>\n<p>在大理</p>\n<p>你可以选择清晨六点起来</p>\n<p>在苍山脚下的寒风中看红日夺目而出</p>\n<p>也可以选择躺在洱海边懒洋洋的</p>\n<p>看夕阳缓缓地掉进海中</p>\n<video width=\"100%\" height=\"450\" controls>\n    <source src=\"/assets/264.MP4\" type=\"video/mp4\">\n</video>\n<p>在大理</p>\n<p>你可以选择吃米线饵丝凉鸡米线油条豆浆</p>\n<p>也可以选择批萨意粉印度咖喱</p>\n<p>在大理</p>\n<p>你可以背着大包帐蓬去苍山顶上露营赏月</p>\n<p>也可以拎个小包去洱海边晒太阳叉鱼</p>\n<p>在大理</p>\n<p>你可以选择享受艺术小青年的民谣摇滚朋克</p>\n<p>也可以选择倾听老大爷的二胡评弹葫芦丝</p>\n<p><img src=\"/assets/IMG_0495.JPG\" alt=\"image\"></p>\n<p>从苍山门到洱海门，人民路上走九遍</p>\n<p>懒懒的风，懒懒的太阳，晒得人又迷幻又幸福</p>\n<p>叼支雪糕，转头便可看到你傻笑的脸</p>\n<p>现世安稳，岁月静好</p>\n<p>如果你是这么一类人：</p>\n<p>习惯常年飘泊不定的动荡生活</p>\n<p>习惯粗糙的打理自己</p>\n<p>凭一己爱恨直接的对待他人</p>\n<p>习惯一个人随时扛着大包就上路</p>\n<p>习惯了风餐露宿</p>\n<p>习惯走累在马路边就随地坐下来</p>\n<p>习惯在陌生的地方醒来</p>\n<p>睁开眼看到的是新鲜的世界</p>\n<p>习惯了在去往远方的颠簸路途上奔波折腾</p>\n<p>却甘之若饴，自得其乐</p>\n<p>那你一定要来大理</p>\n<p>这里没有喧嚣，你可以不用说话</p>\n<p>不用再想那些烦扰人事，只是静静闭上双眼</p>\n<p>让幽蓝的星空将你轻拥入怀，懒懒沉入梦田……</p>\n<p><img src=\"/assets/IMG_0561.JPG\" alt=\"image\"></p>","excerpt":"旅行日记 \"是不是对生活不太满意很久没有笑过又不知为何既然不快乐又不喜欢这里不如一路向西去大理... 爱上一座城，也许是因为一个人 爱上一个人，也许是因为他满身的浪漫情怀 因为那个人而爱上的城 也许是因为这座城也满是浪漫 201…","id":"562e2b1e-e4bd-5c6a-a72d-51915bc8f174"}}]}},"pageContext":{}},"staticQueryHashes":[]}